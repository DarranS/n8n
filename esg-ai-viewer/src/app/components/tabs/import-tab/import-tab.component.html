<div class="import-tab-container">
  <div *ngIf="showTokenInput">
    <label for="bearerToken">Bearer Token:</label>
    <input id="bearerToken" type="text" [(ngModel)]="bearerToken" placeholder="Paste Bearer Token here" />
    <button (click)="fetchCompanies()">Fetch Companies</button>
    <div *ngIf="fetchError" class="error-message">{{ fetchError }}</div>
    <div *ngIf="noData" class="no-data-message">No companies found.</div>
  </div>
  <div *ngIf="companies && companies.length">
    <input type="text" [(ngModel)]="isinInput" (input)="onIsinInput()" placeholder="Enter ISINs (comma separated)" />
    <ag-grid-angular
      style="width: 100%; height: 400px;"
      class="ag-theme-alpine"
      [rowData]="companies"
      [columnDefs]="columnDefs"
      rowSelection="multiple"
      [rowMultiSelectWithClick]="true"
      (gridReady)="onGridReady($event)">
    </ag-grid-angular>
    <div class="row-count">
      Row count: {{ companies.length }}<br>
      Selected: {{ selectedCount }}
    </div>
    <button (click)="onImport()" [disabled]="selectedCount === 0">Import</button>
  </div>
</div> 